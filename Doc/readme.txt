
此工程为;使用STM32F103C8T6，实现sht20采集温湿度、lcd显示、modbus-485输出、4G通信（USART3）


一.寄存器地址分配详细说明：
参数名称	寄存器个数	寄存器偏移地址	支持的Modbus功能码	说明
Modbus设备地址	1	0000H	03、06、10	范围：1-247可通过上位机读取，或者如果忘了设备地址，可直接发送FE 03 00 00 00 01 CRC16,返回的FE 03 02 (地址)
Modbus波特率	1	0001H	03、06、10	寄存器内：1-9分别代表1200、2400、4800、9600、19200、38400、57600、76800、115200
温度整数值：	1	0002H	04	不可修改，只读
温度小数值：	1	0003H	04	不可修改，只读
湿度整数值：	1	0004H	04	不可修改，只读
湿度小数值：	1	0005H	04	不可修改，只读
温度零点值：	1	0006H	03、06、10	默认为0°。通过上位机修改。如果不通过上位机修改，需要右移两位，例如，想写入27.35，需要右移两位2735。十六进制发送，则写入为0AAF
温度满程值：	1	0007H	03、06、10	默认为50°.通过上位机修改。如果不通过上位机修改，需要右移两位，例如，想写入27.35，需要右移两位2735。
湿度零点值：	1	0008H	03、06、10	默认为0%.通过上位机修改。如果不通过上位机修改，需要右移两位，例如，想写入27.35，需要右移两位2735。
湿度满程值：	1	0009H	03、06、10	默认为100%.通过上位机修改。如果不通过上位机修改，需要右移两位，例如，想写入27.35，需要右移两位2735。
切换串口：	1	000AH	03、06、10	1：usart1，rs485.
3:usart3,无线输出模块
温度4mA电流校准值：	1	000BH	03、06、10	温度4-20mA端口会默认输出4mA.可通过上位机进行校准。
温度20mA电流校准值：	1	000CH	03、06、10	温度4-20mA端口会默认输出20mA.可通过上位机进行校准。
温度4mA电流校准值：	1	000DH	03、06、10	湿度4-20mA端口会默认输出4mA.可通过上位机进行校准。
温度4mA电流校准值：	1	000EH	03、06、10	湿度4-20mA端口会默认输出20mA.可通过上位机进行校准。
温度低报警值：	1	000FH	03、06、10	默认为0.对应上位机温度下限。不使用上位机修改时需右移两位，例如，想写入27.35，需要右移两位2735，并使用十六进制
温度高报警值：	1	0010H	03、06、10	默认为50.对应上位机温度上限。不使用上位机修改时需右移两位，例如，想写入27.35，需要右移两位2735，并使用十六进制
湿度低报警值：	1	0011H	03、06、10	默认为0.对应上位机湿度下限。不使用上位机修改时需右移两位，例如，想写入27.35，需要右移两位2735，并使用十六进制
湿度高报警值：	1	0012H	03、06、10	默认为100.对应上位机湿度上限。不使用上位机修改时需右移两位，例如，想写入27.35，需要右移两位2735，并使用十六进制
温度报警模式选择：	1	0013H	03、06、10	可通过上位机选择。
0：<低报警值 1：>高报警值
2：区间报警（低报警值<X<高报警值）
湿度报警模式选择：	1	0014H	03、06、10	可通过上位机选择。
0：<低报警值 1：>高报警值
2：区间报警（低报警值<X<高报警值）
温度4mA校准模式：	1	0015H	03、06、10	可通过上位机配置
0：正常输出 1：输出4mA（不使用上位机时，想输出4mA,需要同时将湿度4mA校准模式置1，温度湿度两个端口一起输出4mA）
温度20mA校准模式：	1	0016H	03、06、10	可通过上位机配置
0：正常输出 1：输出20mA（不使用上位机时，想输出20mA,需要同时将湿度20mA校准模式置1，温度湿度两个端口一起输出20mA）
湿度4mA校准模式：	1	0017H	03、06、10	可通过上位机配置
0：正常输出 1：输出4mA（不使用上位机时，想输出4mA,需要同时将温度4mA校准模式置1，温度湿度两个端口一起输出4mA）
湿度20mA校准模式：	1	0018H	03、06、10	可通过上位机配置
0：正常输出 1：输出20mA（不使用上位机时，想输出20mA,需要同时将温度20mA校准模式置1，温度湿度两个端口一起输出20mA）
恢复出厂设置				点击上位机 恢复出厂设置 按钮。或使用串口调试助手可直接发送FD 06 00 00 00 01 CRC16,可将设备地址复位为1，波特率复位为9600

二.注意事项：
1.4G通信是通过usart3实现，通过usRegHoldingBuf[10]来选择USART1（modbus-485）和USART3(4G)
usRegHoldingBuf[10]值：1-USART1（modbus-485）
                       3-USART3(4G)
串口都是以MODBUS协议传输，uart3配置在portserial.c中，usart1配置在bsp_usart.c中。
2.注意BSP_Init在任务调度之前，其中不要使用vTaskDelay函数，否则会引起任务不执行。
3.看门狗设置2s，调整代码时注意不要超出溢出时间。